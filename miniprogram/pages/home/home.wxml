<!--pages/home/home.wxml-->
<view class="home-container">
  <swiper 
    class="role-swiper"
    current="{{currentIndex}}"
    bindchange="onSwiperChange"
    duration="300"
    circular="{{false}}">
    
    <!-- 动态生成角色页面 -->
    <swiper-item wx:for="{{userRoles}}" wx:key="index">
      <!-- 会员页面 -->
      <member-page 
        wx:if="{{item.type === 'member'}}" 
        userInfo="{{userInfo}}">
      </member-page>
      
      <!-- 私教页面 -->
      <trainer-page 
        wx:elif="{{item.type === 'trainer'}}" 
        userInfo="{{userInfo}}">
      </trainer-page>
      
      <!-- 店长页面 -->
      <manager-page 
        wx:elif="{{item.type === 'manager'}}" 
        userInfo="{{userInfo}}">
      </manager-page>
      
      <!-- 老板页面 -->
      <boss-page 
        wx:elif="{{item.type === 'boss'}}" 
        userInfo="{{userInfo}}">
      </boss-page>
      
      <!-- 保洁页面 -->
      <cleaner-page 
        wx:elif="{{item.type === 'cleaner'}}" 
        userInfo="{{userInfo}}">
      </cleaner-page>
    </swiper-item>
  </swiper>

  <!-- 底部光点指示器 -->
  <view class="indicator-container">
    <view 
      class="indicator-dot {{indicatorDots[index] ? 'active' : ''}}" 
      wx:for="{{userRoles}}" 
      wx:key="index"
      data-index="{{index}}"
      bindtap="onDotTap">
    </view>
  </view>

  <!-- 测试按钮 -->
  <view class="test-button-container">
    <button class="test-button" bindtap="goToTest">测试角色数据</button>
  </view>
</view>
